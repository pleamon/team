# TOOLS.md - atath（Product Manager）

## 工作区目录
```
~/team/workspace/atath/
├── PRD.md                    # 产品需求文档
├── Milestones.md             # 里程碑与时间线
├── Decision-log.md           # 决策记录
├── Open-questions.md         # 未决问题
├── Backlog.md                # 需求池（新增）
├── Sprint-N-plan.md          # Sprint计划（新增）
├── Sprint-N-progress.md      # Sprint进度（新增）
├── Task-assignments.md       # 任务分配记录（新增）
├── Daily-standup-*.md        # 每日站会（新增）
├── tasks/                    # 任务详情目录（新增）
│   ├── T001.md
│   ├── T002.md
│   └── ...
├── templates/                # 文档模板（新增）
│   ├── sprint-plan.md
│   ├── task.md
│   ├── backlog.md
│   └── ...
├── dashboard/                # 监控dashboard（新增）
│   ├── Sprint-overview.md
│   ├── Team-velocity.md
│   ├── Burndown-chart.md
│   └── Blockers.md
├── User-research/            # 用户调研资料
└── Release-notes/            # 发布说明
```

---

## 开发环境

### 启动检查
```bash
# 进入工作区
cd ~/team/workspace/atath

# 检查待办
cat TODO.md

# 查看未决问题
cat Open-questions.md

# 查看最新决策
tail -10 Decision-log.md
```

---

## 常用命令与脚本

### 文档管理
```bash
# 查看所有 PRD
ls -lt PRD*.md

# 搜索特定需求
grep -r "用户登录" *.md

# 检查未决问题数量
grep -c "^-" Open-questions.md

# 查找过期 PRD（超过 30 天未更新）
find . -name "PRD*.md" -mtime +30
```

### 需求追踪
```bash
# 统计各状态需求数量
grep -E "(待开发|开发中|已完成)" PRD.md | wc -l

# 查看高优先级需求
grep -A 5 "P0\|P1" PRD.md

# 检查依赖关系
grep -r "依赖" PRD*.md
```

### 版本管理
```bash
# 创建新版本 PRD
cp PRD.md PRD-v1.1.md

# 对比版本差异
diff PRD-v1.0.md PRD-v1.1.md

# 归档已完成需求
mkdir -p archive/2024-Q1
mv PRD-completed-*.md archive/2024-Q1/
```

---

## Scrum管理命令（新增）

### Skills调用
```bash
# 创建Sprint
/sprint-plan \
  --goal "实现用户认证功能" \
  --requirements "Backlog.md#用户登录"

# 创建任务
/task-create \
  --story "作为用户，我想要登录系统" \
  --acceptance "密码验证、Token生成、错误处理" \
  --priority P0

# 分配任务
/task-assign --task_id T001

# 检查进度
/progress-check

# 生成每日站会
/daily-standup
```

### 进度追踪
```bash
# 查看当前Sprint进度
cat Sprint-*-progress.md | grep "整体进度" -A10

# 查看阻塞问题
cat dashboard/Blockers.md

# 查看团队负载
cat Sprint-*-progress.md | grep "负载"

# 查看最近完成的任务
grep "✅" */MEMORY.md | tail -10
```

### 任务管理
```bash
# 查看所有待分配任务
grep "状态: Todo" tasks/*.md | grep -v "负责agent"

# 查看特定agent的任务
cat fe/TODO.md

# 统计任务完成率
TOTAL=$(ls tasks/*.md | wc -l)
DONE=$(grep "状态: Done" tasks/*.md | wc -l)
echo "完成率: $((DONE * 100 / TOTAL))%"
```

### Dashboard更新
```bash
# 手动更新dashboard（通常由HEARTBEAT自动执行）
./update_dashboard.sh

# 查看Sprint概览
cat dashboard/Sprint-overview.md

# 查看团队速率
cat dashboard/Team-velocity.md

# 查看燃尽图
cat dashboard/Burndown-chart.md
```

---

## 文档与模板

### 必读文档
- **PRD.md** - 当前产品需求文档
- **arch/Architecture.md** - 技术架构（了解技术约束）
- **uiux/Design-system.md** - 设计规范（了解 UI 限制）
- **qa/Test-strategy.md** - 测试策略（了解质量标准）

### 常用模板

#### PRD 模板 (PRD.md)
```markdown
# PRD: [功能名称]
版本: v1.0 | 日期: YYYY-MM-DD | 作者: PM | 状态: [草稿/评审中/已冻结]

## 1. 背景与目标
### 问题
[用户痛点/业务需求]

### 目标
[期望达到的结果，可量化指标]

### 非目标
- ❌ [明确不做的事情]

---

## 2. 用户故事
### 核心用户旅程
**作为** [角色]
**我想要** [功能]
**以便** [达到目的]

**场景示例**:
用户张三在移动端...

---

## 3. 功能需求
### 3.1 [功能模块1]
**描述**: [简要说明]

**验收标准**:
- [ ] Given [前置条件]，When [操作]，Then [预期结果]
- [ ] 边界条件: [空值/超长/并发...]
- [ ] 性能要求: [响应时间 < 2s]

**优先级**: P0/P1/P2

### 3.2 [功能模块2]
...

---

## 4. 非功能需求
### 性能
- 页面加载时间 < 3s
- API 响应时间 < 500ms
- 支持并发用户数 > 1000

### 安全
- 用户数据加密存储
- API 调用需鉴权
- 敏感操作需二次确认

### 可访问性
- 支持键盘导航
- 支持屏幕阅读器
- 色彩对比度符合 WCAG AA 标准

---

## 5. 约束与假设
### 技术约束
- [例：必须兼容 iOS 12+]

### 业务约束
- [例：需符合 GDPR 合规要求]

### 假设
- [例：假设用户已完成邮箱验证]

---

## 6. 依赖
| 依赖项 | 负责人 | 状态 | 预计完成 |
|--------|--------|------|---------|
| API 开发 | BE | 进行中 | 2024-02-15 |
| UI 组件 | FE | 已完成 | - |

---

## 7. 里程碑
| 阶段 | 交付物 | 日期 |
|------|--------|------|
| PRD 冻结 | 本文档 | 2024-01-10 |
| 原型评审 | UIUX 原型 | 2024-01-15 |
| 开发完成 | 功能实现 | 2024-02-20 |
| QA 验收 | 测试报告 | 2024-02-25 |
| 灰度发布 | 10% 用户 | 2024-03-01 |
| 全量发布 | 100% 用户 | 2024-03-10 |

---

## 8. 成功指标
| 指标 | 基线 | 目标 | 测量方式 |
|------|------|------|---------|
| 转化率 | 15% | 25% | Google Analytics |
| 完成时长 | 5min | 2min | 用户行为埋点 |
| 用户满意度 | 3.5/5 | 4.2/5 | NPS 调研 |

---

## 9. 风险与应对
| 风险 | 概率 | 影响 | 应对措施 |
|------|------|------|---------|
| 技术方案不可行 | 中 | 高 | 提前与 Arch 评审 |
| 第三方 API 不稳定 | 低 | 中 | 准备备用方案 |

---

## 10. 附录
- 用户调研报告: [链接]
- 竞品分析: [链接]
- 原型地址: [链接]

---

## 变更日志
| 日期 | 版本 | 变更内容 | 原因 |
|------|------|---------|------|
| 2024-01-15 | v1.1 | 调整验收标准 | 技术评审反馈 |
| 2024-01-10 | v1.0 | 初版 | - |
```

---

#### 用户故事模板
```markdown
# 用户故事: [简短标题]

## 基本信息
**作为** [角色]
**我想要** [功能]
**以便** [达到目的]

## 场景描述
用户张三在[场景]下，想要[做什么]，因为[原因]。

## 验收标准
- [ ] Given [前置条件]，When [操作]，Then [预期结果]
- [ ] 边界条件: [列举]
- [ ] 异常处理: [列举]

## 优先级
P0 / P1 / P2 / P3

## 估算
[1-3天] / [3-5天] / [5+天]

## 依赖
- [依赖项]

## 备注
[补充说明]
```

---

#### 决策记录模板 (Decision-log.md)
```markdown
## [YYYY-MM-DD] [决策主题]

**背景**:
[为什么需要做决策]

**选项**:
- **A**: [描述]
  - 优点: [列举]
  - 缺点: [列举]
- **B**: [描述]
  - 优点: [列举]
  - 缺点: [列举]

**决策**: 选择 [A/B]

**理由**:
[为什么选这个，基于什么数据/反馈]

**影响**:
- 对用户: [影响]
- 对开发: [影响]
- 对时间线: [影响]

**负责人**: [谁执行]

**复盘** (事后填写):
[决策效果如何，有什么经验教训]
```

---

#### 未决问题模板 (Open-questions.md)
```markdown
# 未决问题列表

## 高优先级
- [ ] [问题描述] - 影响: [X] - 负责人: [Y] - 期限: [YYYY-MM-DD]

## 中优先级
- [ ] [问题描述] - 影响: [X] - 负责人: [Y] - 期限: [YYYY-MM-DD]

## 低优先级 / 可延后
- [ ] [问题描述] - 影响: [X] - 负责人: [Y] - 期限: [YYYY-MM-DD]

## 已解决（归档）
- [x] [问题] - 解决方案: [X] - 解决日期: [YYYY-MM-DD]
```

---

## 规范与约定

### 需求编号规范
- **格式**: `REQ-[类别]-[序号]`
- **类别**: FUNC（功能）/ NFR（非功能）/ UI（界面）/ API（接口）
- **示例**: `REQ-FUNC-001`, `REQ-NFR-005`

### 优先级定义
- **P0**: 阻塞核心用户旅程，必须本版本完成
- **P1**: 重要但不阻塞，本版本尽量完成
- **P2**: 期望功能，可延后到下版本
- **P3**: Nice to have，排期处理

### 状态标记
- 📝 草稿 - PRD 初稿，待评审
- 🔍 评审中 - 团队评审中
- ✅ 已冻结 - PRD 已确认，不再修改（除非走变更流程）
- 🚧 开发中 - 开发团队执行中
- 🧪 测试中 - QA 测试中
- 🚀 已发布 - 功能已上线
- 📦 已归档 - 已完成并归档

### 变更管理流程
1. **提出变更**: 填写变更申请（背景/内容/影响）
2. **影响评估**: PM 评估对时间/范围/质量的影响
3. **决策**: 若影响 < 10% → PM 决策；否则升级 alex/Pleamon
4. **更新文档**: 更新 PRD 版本号 + 变更日志
5. **同步团队**: 通知相关角色（alex/UIUX/FE/BE/QA）

---

## 质量检查工具

### PRD 完整性检查清单
- [ ] 有背景与目标
- [ ] 有用户故事
- [ ] 有验收标准（具体/可测/完整）
- [ ] 有非目标
- [ ] 有约束与假设
- [ ] 有成功指标
- [ ] 已通过 UIUX + Arch + QA 评审

### 用户故事 INVEST 检查
- [ ] **I**ndependent - 独立（不过度依赖其他故事）
- [ ] **N**egotiable - 可协商（细节可调整）
- [ ] **V**aluable - 有价值（对用户有意义）
- [ ] **E**stimable - 可估算（团队能评估工作量）
- [ ] **S**mall - 小（1-3 天可完成）
- [ ] **T**estable - 可测试（有明确验收标准）

---

## 干系人管理

### 干系人地图
| 角色 | 利益关注点 | 影响力 | 沟通频率 | 沟通方式 |
|------|----------|-------|---------|---------|
| Pleamon | 业务目标达成 | 高 | 每周 | 状态报告 + 重大决策 |
| alex | 项目按时交付 | 高 | 每日 | MEMORY.md 同步 |
| UIUX | 设计可落地 | 中 | 按需 | 原型评审会 |
| FE/BE | 需求清晰 | 中 | 每日 | 需求答疑 |
| QA | 验收标准明确 | 中 | 每周 | 测试策略对齐 |

### 会议管理
**需求对齐会**（PRD 冻结前）:
- 参与者: PM + UIUX + Arch + QA
- 时长: 60 分钟
- 产出: 确认的 PRD + 行动项

**需求答疑**（开发期间）:
- 参与者: PM + 提问角色
- 时长: 15-30 分钟
- 产出: 更新的 PRD（如需要）

**验收评审**（测试完成后）:
- 参与者: PM + QA + alex
- 时长: 30 分钟
- 产出: 发布 Go/No-Go 决策

---

## 数据与指标

### 核心指标定义
| 指标 | 定义 | 计算公式 | 数据源 |
|------|------|---------|--------|
| DAU | 日活跃用户数 | 当日登录用户去重数 | 埋点日志 |
| 转化率 | 完成核心动作比例 | (完成数/访问数) × 100% | Google Analytics |
| 留存率 | 用户回访比例 | (N日后回访/首日新增) × 100% | 埋点日志 |
| NPS | 净推荐值 | (推荐者%-贬损者%) | 用户调研 |

### 数据分析工具
- **Google Analytics** - 网页端用户行为
- **Mixpanel** / **Amplitude** - 移动端埋点分析（如使用）
- **Hotjar** - 用户热力图与录屏（如使用）
- **UserTesting** - 用户访谈与可用性测试

---

## 用户调研

### 调研方法
| 方法 | 适用场景 | 优点 | 缺点 |
|------|---------|------|------|
| 用户访谈 | 探索需求 | 深入理解痛点 | 样本量小 |
| 问卷调查 | 验证假设 | 大样本量 | 表面信息 |
| 可用性测试 | 评估方案 | 发现问题 | 需原型 |
| A/B 测试 | 优化决策 | 数据驱动 | 需已上线 |
| 数据分析 | 发现趋势 | 客观真实 | 不知道「为什么」 |

### 调研问题模板
```markdown
# 用户访谈提纲

## 开场
感谢参与，本次访谈约 30 分钟，旨在了解 [场景] 下的使用体验。

## 背景了解
1. 您平时如何 [完成某任务]？
2. 使用过哪些相关产品？

## 痛点挖掘
3. 在 [场景] 中遇到过哪些困难？
4. 最让您不满意的是什么？

## 需求验证
5. 如果有 [功能]，您会使用吗？为什么？
6. 您期望的理想体验是什么样的？

## 优先级
7. 如果只能改进一件事，您选哪个？

## 结束
感谢您的时间，后续会整理反馈并优化产品。
```

---

## 竞品分析

### 竞品分析框架
```markdown
# 竞品分析: [产品名称]

## 基本信息
- 产品定位: [X]
- 目标用户: [Y]
- 核心功能: [列举]

## 功能对比
| 功能 | 我们 | 竞品A | 竞品B |
|------|------|-------|-------|
| 功能1 | ✅ | ✅ | ❌ |
| 功能2 | ❌ | ✅ | ✅ |

## 优劣势分析
**竞品优势**:
- [列举]

**竞品劣势**:
- [列举]

**我们的机会**:
- [可借鉴的点]
- [可差异化的点]

## 结论
[是否采纳，如何借鉴]
```

---

## 发布管理

### 灰度发布策略
```markdown
# 灰度发布计划

## 阶段1: 内测（1-3天）
- 范围: 内部员工
- 目标: 发现明显 Bug

## 阶段2: 小范围灰度（3-7天）
- 范围: 5-10% 用户
- 目标: 验证核心功能稳定性

## 阶段3: 扩大灰度（7-14天）
- 范围: 30-50% 用户
- 目标: 观察指标变化

## 阶段4: 全量发布
- 范围: 100% 用户
- 前提: 无严重 Bug，指标正常

## 回滚条件
- P0 Bug 出现
- 核心指标下降 > 10%
- 大量用户投诉
```

### 发布检查清单
- [ ] PRD 验收标准全部满足
- [ ] QA 回归测试通过
- [ ] 性能测试通过（如适用）
- [ ] 安全评估通过（如适用）
- [ ] 文档已更新（用户帮助/FAQ）
- [ ] 监控告警已配置
- [ ] 回滚方案已准备
- [ ] 客服团队已培训

---

## 故障排查

### 常见问题

#### Q1: 需求被频繁质疑「为什么做」
**排查**: PRD 是否有背景与目标？是否有数据支撑？
**解决**: 补充用户调研/数据分析，说明业务价值

#### Q2: 开发说「需求不清楚」
**排查**: 验收标准是否具体？是否有原型？
**解决**: 补充 Given-When-Then 验收标准 + UIUX 原型

#### Q3: QA 说「无法测试」
**排查**: 验收标准是否可测？是否覆盖边界条件？
**解决**: 与 QA 一起细化验收标准

#### Q4: 上线后用户反馈负面
**排查**: 是 Bug 还是需求偏差？
**解决**: 快速收集反馈 → 分类 → 48 小时内给出应对方案

---

## 外部资源

### 学习资源
- **书籍**:
  - 《启示录》（Marty Cagan）
  - 《用户故事地图》（Jeff Patton）
  - 《精益创业》（Eric Ries）

- **在线课程**:
  - Product School
  - Reforge

### 工具推荐
- **原型设计**: Figma / Axure
- **数据分析**: Google Analytics / Mixpanel
- **用户调研**: UserTesting / Hotjar
- **项目管理**: Notion / Linear / Jira
